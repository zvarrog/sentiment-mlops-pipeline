# =============================================================================
# Пример переменных окружения для sentiment-mlops-pipeline
# Скопируйте этот файл в .env и настройте значения
# =============================================================================

# -----------------------------------------------------------------------------
# PostgreSQL (Optuna, Airflow, Metrics)
# -----------------------------------------------------------------------------
POSTGRES_USER=admin
POSTGRES_PASSWORD=admin

# -----------------------------------------------------------------------------
# Kaggle API (для скачивания датасета)
# -----------------------------------------------------------------------------
# Путь к kaggle.json (или используйте монтирование volume)
# KAGGLE_JSON=/path/to/kaggle.json

# -----------------------------------------------------------------------------
# Директории данных
# -----------------------------------------------------------------------------
# RAW_DATA_DIR=/opt/airflow/data/raw
# PROCESSED_DATA_DIR=/opt/airflow/data/processed
# MODEL_DIR=/opt/airflow/artefacts

# -----------------------------------------------------------------------------
# Обучение
# -----------------------------------------------------------------------------
SEED=42
OPTUNA_N_TRIALS=30
N_FOLDS=1
TRAIN_DEVICE=cpu  # или cuda для GPU

# DistilBERT
DISTILBERT_MIN_EPOCHS=2
DISTILBERT_MAX_EPOCHS=8
DISTILBERT_EARLY_STOP_PATIENCE=3
DISTILBERT_TIMEOUT_SEC=1800

# TF-IDF
TFIDF_MAX_FEATURES_MIN=2000
TFIDF_MAX_FEATURES_MAX=6000
TFIDF_MAX_FEATURES_STEP=500

# Балансировка классов
PER_CLASS_LIMIT=35000

# -----------------------------------------------------------------------------
# MLflow
# -----------------------------------------------------------------------------
# MLFLOW_TRACKING_URI=http://mlflow:5000
MLFLOW_EXPERIMENT_NAME=kindle_reviews
MODEL_PRODUCTION_THRESHOLD=0.75

# -----------------------------------------------------------------------------
# Spark
# -----------------------------------------------------------------------------
SPARK_DRIVER_MEMORY=6g
SPARK_EXECUTOR_MEMORY=6g
SPARK_NUM_CORES=4
SHUFFLE_PARTITIONS=32

# -----------------------------------------------------------------------------
# API
# -----------------------------------------------------------------------------
API_HOST=0.0.0.0
API_PORT=8000
MAX_TEXT_LENGTH=2000
MAX_BATCH_SIZE=100
API_REQUEST_TIMEOUT_SEC=10
API_RATE_LIMIT_PER_MIN=120

# -----------------------------------------------------------------------------
# Drift Monitor
# -----------------------------------------------------------------------------
MIN_SAMPLES_FOR_PSI=10
PSI_EPSILON=1e-6
# DRIFT_IGNORE_COLS=  # через запятую

# -----------------------------------------------------------------------------
# Логирование
# -----------------------------------------------------------------------------
LOG_LEVEL=INFO
LOG_FORMAT=text  # или json
